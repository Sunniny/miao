import{d as _,k as r,X as k,c as x,a9 as i,al as d,ak as u,a as s,am as p,an as y,aq as g,o as w}from"./index-11d64c67.js";const b=["disabled"],B=_({__name:"Register",setup(h){var l=r(null);k(()=>{l.value.addEventListener("change",async f=>{var e=l.value.files[0],a=new FormData;a.append("avatar",e);var m=await fetch("/upload",{method:"post",body:a}).then(c=>c.json());o.value=m[0]})});var t=r(""),n=r(""),o=r("");function v(){g.post("/account/register",{name:t.value,password:n.value,avatar:o.value,email:"foo@qq.com"})}return(f,e)=>(w(),x(y,null,[i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>p(t)?t.value=a:t=a)},null,512),[[d,u(t)]]),i(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>p(n)?n.value=a:n=a)},null,512),[[d,u(n)]]),s("input",{type:"file",ref_key:"avatar",ref:l},null,512),s("button",{onClick:v,disabled:u(o)==""},"注册",8,b)],64))}});export{B as default};
